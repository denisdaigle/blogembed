<% if @blog_uid.present? %>

    <div data-controller="createPostForm" class="mt-16 mx-auto w-full sm:w-full md:w-1/2 lg:w-1/2">
  
      <%= form_tag create_post_path(), 'data-target' => "createPostForm.form", :method => :post, :id => "createPostForm", :authenticity_token => true, :remote => true do %>
    
            <%= hidden_field_tag :blog_uid, @blog_uid %>
    
            <div class="mt-6">
                <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="post_title">
                    Post title
                </label>
                <input id="post_title" name="post_title" data-target="createPostForm.postTitleInput" class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" type="text" placeholder="What's the post title?">
                <p class="text-red-500 text-xs italic hidden" data-target="createPostForm.postTitleError"></p>
            </div>
            
            <div class="mt-6">
                <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="post_content">
                    Content
                </label>
                <textarea id="post_content" name="post_content" data-target="createPostForm.postContentInput" class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" rows="3" placeholder="Tell us about it!"></textarea>
                <p class="text-red-500 text-xs italic hidden" data-target="createPostForm.postContentError"></p>
            </div>
            
            <div class="mt-6 flex">
                <div class="">
                    <%= submit_tag "Create", 'data-action' => 'click->createPostForm#create', :class => "shadow bg-gray-700 hover:bg-gray-900 focus:bg-gray-900 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded", :id => "createPostForm_create_button" %>
                </div>
                <div class="mt-2 ml-4">
                    <a href="/blogs" class="hover:font-bold">cancel</a>
                </div>
            </div>
    
      <% end %>
      
      <div class="w-full flex py-10 hidden" data-target="createPostForm.errorMessageHolder" id="createPostForm_errorMessageHolder">
        
        <div class="">
          <span data-target="createPostForm.errorMessage" id="createPostForm_errorMessage" class="text-red-500 text-md">
    
          </span>
        </div>
        
      </div>
      
      <div class="w-full py-10 justify-center flex hidden" data-target="createPostForm.processingMessageHolder" id="createPostForm_processingMessageHolder">
        
        <div class="">
          <span data-target="createPostForm.processingMessage" id="createPostForm_processingMessage" class="text-gray-700 text-md">
    
          </span>
        </div>
        
        <div class="mt-3 ml-1">
          <img src="<%= image_path('dots.svg') %>"/>
        </div>
        
      </div>
      
    </div>

<% else %>

    <div class="mt-48">
        <p class="mt-2 text-center"><%= @error_message %></p>
    </div>
    <div class="mt-10 text-center">
        <a href="/blogs" class="inline-block text-md px-4 py-2 leading-none border rounded text-gray-900 border-gray-900 hover:border-transparent hover:text-gray-100 hover:bg-black mt-4 lg:mt-4 mr-4">back to the blog list</a>
    </div>

<% end %>

